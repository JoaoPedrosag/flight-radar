!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=213)}([function(t,e,i){var r=i(50),n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();t.exports=o},function(t,e){var i=Array.isArray;t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,i){var r=i(93),n=i(99);t.exports=function(t,e){var i=n(t,e);return r(i)?i:void 0}},function(t,e,i){var r=i(6),n=i(95),o=i(96),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:c&&c in Object(t)?n(t):o(t)}},function(t,e,i){var r=i(0).Symbol;t.exports=r},function(t,e,i){var r=i(5),n=i(2),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||n(t)&&r(t)==o}},function(t,e,i){var r=i(160),n=i(39),o=i(161),s=i(162),a=i(49),c=i(5),l=i(51),u=l(r),h=l(n),d=l(o),f=l(s),p=l(a),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||n&&"[object Map]"!=v(new n)||o&&"[object Promise]"!=v(o.resolve())||s&&"[object Set]"!=v(new s)||a&&"[object WeakMap]"!=v(new a))&&(v=function(t){var e=c(t),i="[object Object]"==e?t.constructor:void 0,r=i?l(i):"";if(r)switch(r){case u:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,i){var r=i(7),n=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}},function(t,e,i){var r=i(11),n=i(3);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=r(t.prototype),o=t.apply(i,e);return n(o)?o:i}}},function(t,e,i){var r=i(3),n=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(n)return n(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();t.exports=o},function(t,e){t.exports=function(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}},function(t,e,i){var r=i(66),n=i(67);t.exports=function(t,e,i,o){var s=!i;i||(i={});for(var a=-1,c=e.length;++a<c;){var l=e[a],u=o?o(i[l],t[l],l,i,t):void 0;void 0===u&&(u=t[l]),s?n(i,l,u):r(i,l,u)}return i}},function(t,e,i){var r=i(68),n=i(70),o=i(72);t.exports=function(t){return o(t)?r(t):n(t)}},function(t,e,i){var r=i(130),n=i(131),o=i(132),s=i(133),a=i(134);function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,i){var r=i(29);t.exports=function(t,e){for(var i=t.length;i--;)if(r(t[i][0],e))return i;return-1}},function(t,e,i){var r=i(4)(Object,"create");t.exports=r},function(t,e,i){var r=i(148);t.exports=function(t,e){var i=t.__data__;return r(e)?i["string"==typeof e?"string":"hash"]:i.map}},function(t,e,i){var r=i(88)("cloneDeep",i(211),i(212));r.placeholder=i(46),t.exports=r},function(t,e,i){var r=i(47),n=i(100),o=i(101),s=i(52),a=i(120),c=i(56),l=i(121),u=i(58),h=i(60),d=i(64),f="Expected a function",p=1,v=2,g=8,y=16,x=32,m=64,b=Math.max;t.exports=function(t,e,i,w,_,A,T,P){var O=e&v;if(!O&&"function"!=typeof t)throw new TypeError(f);var j=w?w.length:0;if(j||(e&=~(x|m),w=_=void 0),T=void 0===T?T:b(d(T),0),P=void 0===P?P:d(P),j-=_?_.length:0,e&m){var S=w,E=_;w=_=void 0}var I=O?void 0:c(t),k=[t,e,i,w,_,S,E,A,T,P];if(I&&l(k,I),t=k[0],e=k[1],i=k[2],w=k[3],_=k[4],!(P=k[9]=void 0===k[9]?O?0:t.length:b(k[9]-j,0))&&e&(g|y)&&(e&=~(g|y)),e&&e!=p)R=e==g||e==y?o(t,e,P):e!=x&&e!=(p|x)||_.length?s.apply(void 0,k):a(t,e,i,w);else var R=n(t,e,i);return h((I?r:u)(R,k),t,e)}},function(t,e){t.exports=function(t){return t}},function(t,e,i){var r=i(5),n=i(3),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!n(t))return!1;var e=r(t);return e==s||e==a||e==o||e==c}},function(t,e){t.exports=function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}},function(t,e,i){var r=i(11),n=i(25),o=4294967295;function s(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}s.prototype=r(n.prototype),s.prototype.constructor=s,t.exports=s},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){for(var i=-1,r=null==t?0:t.length;++i<r&&!1!==e(t[i],i,t););return t}},function(t,e){var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var i="__lodash_placeholder__";t.exports=function(t,e){for(var r=-1,n=t.length,o=0,s=[];++r<n;){var a=t[r];a!==e&&a!==i||(t[r]=i,s[o++]=r)}return s}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,i){var r=i(125),n=i(2),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return n(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,i){(function(t){var r=i(0),n=i(126),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||n;t.exports=c}).call(this,i(32)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var i=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,i){(function(t){var r=i(50),n=e&&!e.nodeType&&e,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===n&&r.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,i(32)(t))},function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e,i){var r=i(38),n=i(26),o=i(66),s=i(65),a=i(152),c=i(155),l=i(12),u=i(156),h=i(158),d=i(76),f=i(159),p=i(8),v=i(163),g=i(164),y=i(169),x=i(1),m=i(31),b=i(170),w=i(3),_=i(172),A=i(14),T=1,P=2,O=4,j="[object Arguments]",S="[object Function]",E="[object GeneratorFunction]",I="[object Object]",k={};k[j]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[I]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[S]=k["[object WeakMap]"]=!1,t.exports=function t(e,i,R,F,C,W){var D,M=i&T,B=i&P,L=i&O;if(R&&(D=C?R(e,F,C,W):R(e)),void 0!==D)return D;if(!w(e))return e;var $=x(e);if($){if(D=v(e),!M)return l(e,D)}else{var N=p(e),G=N==S||N==E;if(m(e))return c(e,M);if(N==I||N==j||G&&!C){if(D=B||G?{}:y(e),!M)return B?h(e,a(D,e)):u(e,s(D,e))}else{if(!k[N])return C?e:{};D=g(e,N,M)}}W||(W=new r);var z=W.get(e);if(z)return z;if(W.set(e,D),_(e))return e.forEach(function(r){D.add(t(r,i,R,r,e,W))}),D;if(b(e))return e.forEach(function(r,n){D.set(n,t(r,i,R,n,e,W))}),D;var K=L?B?f:d:B?keysIn:A,U=$?void 0:K(e);return n(U||e,function(r,n){U&&(r=e[n=r]),o(D,n,t(r,i,R,n,e,W))}),D}},function(t,e,i){var r=i(15),n=i(135),o=i(136),s=i(137),a=i(138),c=i(139);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,t.exports=l},function(t,e,i){var r=i(4)(i(0),"Map");t.exports=r},function(t,e,i){var r=i(140),n=i(147),o=i(149),s=i(150),a=i(151);function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,i){var r=i(157),n=i(74),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return o.call(t,e)}))}:n;t.exports=a},function(t,e){t.exports=function(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}},function(t,e,i){var r=i(71)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,i){var r=i(78);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,i){var r=i(1),n=i(7),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!n(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e){t.exports={}},function(t,e,i){var r=i(21),n=i(48),o=n?function(t,e){return n.set(t,e),t}:r;t.exports=o},function(t,e,i){var r=i(49),n=r&&new r;t.exports=n},function(t,e,i){var r=i(4)(i(0),"WeakMap");t.exports=r},function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(94))},function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,i){var r=i(53),n=i(54),o=i(102),s=i(10),a=i(55),c=i(63),l=i(119),u=i(28),h=i(0),d=1,f=2,p=8,v=16,g=128,y=512;t.exports=function t(e,i,x,m,b,w,_,A,T,P){var O=i&g,j=i&d,S=i&f,E=i&(p|v),I=i&y,k=S?void 0:s(e);return function d(){for(var f=arguments.length,p=Array(f),v=f;v--;)p[v]=arguments[v];if(E)var g=c(d),y=o(p,g);if(m&&(p=r(p,m,b,E)),w&&(p=n(p,w,_,E)),f-=y,E&&f<P){var R=u(p,g);return a(e,i,t,d.placeholder,x,p,R,A,T,P-f)}var F=j?x:this,C=S?F[e]:e;return f=p.length,A?p=l(p,A):I&&f>1&&p.reverse(),O&&T<f&&(p.length=T),this&&this!==h&&this instanceof d&&(C=k||s(C)),C.apply(F,p)}}},function(t,e){var i=Math.max;t.exports=function(t,e,r,n){for(var o=-1,s=t.length,a=r.length,c=-1,l=e.length,u=i(s-a,0),h=Array(l+u),d=!n;++c<l;)h[c]=e[c];for(;++o<a;)(d||o<s)&&(h[r[o]]=t[o]);for(;u--;)h[c++]=t[o++];return h}},function(t,e){var i=Math.max;t.exports=function(t,e,r,n){for(var o=-1,s=t.length,a=-1,c=r.length,l=-1,u=e.length,h=i(s-c,0),d=Array(h+u),f=!n;++o<h;)d[o]=t[o];for(var p=o;++l<u;)d[p+l]=e[l];for(;++a<c;)(f||o<s)&&(d[p+r[a]]=t[o++]);return d}},function(t,e,i){var r=i(103),n=i(58),o=i(60),s=1,a=2,c=4,l=8,u=32,h=64;t.exports=function(t,e,i,d,f,p,v,g,y,x){var m=e&l;e|=m?u:h,(e&=~(m?h:u))&c||(e&=~(s|a));var b=[t,e,f,m?p:void 0,m?v:void 0,m?void 0:p,m?void 0:v,g,y,x],w=i.apply(void 0,b);return r(t)&&n(w,b),w.placeholder=d,o(w,t,e)}},function(t,e,i){var r=i(48),n=i(104),o=r?function(t){return r.get(t)}:n;t.exports=o},function(t,e,i){var r=i(11),n=i(25);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=r(n.prototype),o.prototype.constructor=o,t.exports=o},function(t,e,i){var r=i(47),n=i(59)(r);t.exports=n},function(t,e){var i=800,r=16,n=Date.now;t.exports=function(t){var e=0,o=0;return function(){var s=n(),a=r-(s-o);if(o=s,a>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,i){var r=i(109),n=i(110),o=i(61),s=i(113);t.exports=function(t,e,i){var a=e+"";return o(t,n(a,s(r(a),i)))}},function(t,e,i){var r=i(111),n=i(59)(r);t.exports=n},function(t,e,i){var r=i(4),n=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e,i){var r=i(122);t.exports=function(t){var e=r(t),i=e%1;return e==e?i?e-i:e:0}},function(t,e,i){var r=i(13),n=i(14);t.exports=function(t,e){return t&&r(e,n(e),t)}},function(t,e,i){var r=i(67),n=i(29),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,i){var s=t[e];o.call(t,e)&&n(s,i)&&(void 0!==i||e in t)||r(t,e,i)}},function(t,e,i){var r=i(62);t.exports=function(t,e,i){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}},function(t,e,i){var r=i(124),n=i(30),o=i(1),s=i(31),a=i(27),c=i(69),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var i=o(t),u=!i&&n(t),h=!i&&!u&&s(t),d=!i&&!u&&!h&&c(t),f=i||u||h||d,p=f?r(t.length,String):[],v=p.length;for(var g in t)!e&&!l.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,v))||p.push(g);return p}},function(t,e,i){var r=i(127),n=i(34),o=i(35),s=o&&o.isTypedArray,a=s?n(s):r;t.exports=a},function(t,e,i){var r=i(36),n=i(128),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return n(t);var e=[];for(var i in Object(t))o.call(t,i)&&"constructor"!=i&&e.push(i);return e}},function(t,e){t.exports=function(t,e){return function(i){return t(e(i))}}},function(t,e,i){var r=i(22),n=i(33);t.exports=function(t){return null!=t&&n(t.length)&&!r(t)}},function(t,e,i){var r=i(68),n=i(153),o=i(72);t.exports=function(t){return o(t)?r(t,!0):n(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,i){var r=i(42),n=i(43),o=i(41),s=i(74),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=n(t);return e}:s;t.exports=a},function(t,e,i){var r=i(77),n=i(41),o=i(14);t.exports=function(t){return r(t,o,n)}},function(t,e,i){var r=i(42),n=i(1);t.exports=function(t,e,i){var o=e(t);return n(t)?o:r(o,i(t))}},function(t,e,i){var r=i(0).Uint8Array;t.exports=r},function(t,e,i){var r=i(182),n=i(2);t.exports=function t(e,i,o,s,a){return e===i||(null==e||null==i||!n(e)&&!n(i)?e!=e&&i!=i:r(e,i,o,s,t,a))}},function(t,e,i){var r=i(183),n=i(186),o=i(187),s=1,a=2;t.exports=function(t,e,i,c,l,u){var h=i&s,d=t.length,f=e.length;if(d!=f&&!(h&&f>d))return!1;var p=u.get(t);if(p&&u.get(e))return p==e;var v=-1,g=!0,y=i&a?new r:void 0;for(u.set(t,e),u.set(e,t);++v<d;){var x=t[v],m=e[v];if(c)var b=h?c(m,x,v,e,t,u):c(x,m,v,t,e,u);if(void 0!==b){if(b)continue;g=!1;break}if(y){if(!n(e,function(t,e){if(!o(y,e)&&(x===t||l(x,t,i,c,u)))return y.push(e)})){g=!1;break}}else if(x!==m&&!l(x,m,i,c,u)){g=!1;break}}return u.delete(t),u.delete(e),g}},function(t,e,i){var r=i(3);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(i){return null!=i&&i[t]===e&&(void 0!==e||t in Object(i))}}},function(t,e,i){var r=i(84),n=i(9);t.exports=function(t,e){for(var i=0,o=(e=r(e,t)).length;null!=t&&i<o;)t=t[n(e[i++])];return i&&i==o?t:void 0}},function(t,e,i){var r=i(1),n=i(45),o=i(85),s=i(86);t.exports=function(t,e){return r(t)?t:n(t,e)?[t]:o(s(t))}},function(t,e,i){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,o=i(195)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,i,r,o){e.push(r?o.replace(n,"$1"):i||t)}),e});t.exports=o},function(t,e,i){var r=i(197);t.exports=function(t){return null==t?"":r(t)}},function(t,e){t.exports=function(t,e){for(var i=-1,r=null==t?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}},function(t,e,i){var r=i(89),n=i(91);t.exports=function(t,e,i){return r(n,t,e,i)}},function(t,e,i){var r=i(90),n=i(46),o=Array.prototype.push;function s(t,e){return 2==e?function(e,i){return t(e,i)}:function(e){return t(e)}}function a(t){for(var e=t?t.length:0,i=Array(e);e--;)i[e]=t[e];return i}function c(t,e){return function(){var i=arguments.length;if(i){for(var r=Array(i);i--;)r[i]=arguments[i];var n=r[0]=e.apply(void 0,r);return t.apply(void 0,r),n}}}t.exports=function t(e,i,l,u){var h="function"==typeof i,d=i===Object(i);if(d&&(u=l,l=i,i=void 0),null==l)throw new TypeError;u||(u={});var f={cap:!("cap"in u)||u.cap,curry:!("curry"in u)||u.curry,fixed:!("fixed"in u)||u.fixed,immutable:!("immutable"in u)||u.immutable,rearg:!("rearg"in u)||u.rearg},p=h?l:n,v="curry"in u&&u.curry,g="fixed"in u&&u.fixed,y="rearg"in u&&u.rearg,x=h?l.runInContext():void 0,m=h?l:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},b=m.ary,w=m.assign,_=m.clone,A=m.curry,T=m.forEach,P=m.isArray,O=m.isError,j=m.isFunction,S=m.isWeakMap,E=m.keys,I=m.rearg,k=m.toInteger,R=m.toPath,F=E(r.aryMethod),C={castArray:function(t){return function(){var e=arguments[0];return P(e)?t(a(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],i=arguments[1],r=t(e,i),n=r.length;return f.cap&&"number"==typeof i?(i=i>2?i-2:1,n&&n<=i?r:s(r,i)):r}},mixin:function(t){return function(e){var i=this;if(!j(i))return t(i,Object(e));var r=[];return T(E(e),function(t){j(e[t])&&r.push([t,i.prototype[t]])}),t(i,Object(e)),T(r,function(t){var e=t[1];j(e)?i.prototype[t[0]]=e:delete i.prototype[t[0]]}),i}},nthArg:function(t){return function(e){var i=e<0?1:k(e)+1;return A(t(e),i)}},rearg:function(t){return function(e,i){var r=i?i.length:0;return A(t(e,i),r)}},runInContext:function(i){return function(r){return t(e,i(r),u)}}};function W(t,e){if(f.cap){var i=r.iterateeRearg[t];if(i)return function(t,e){return $(t,function(t){var i=e.length;return function(t,e){return 2==e?function(e,i){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(I(s(t,i),e),i)})}(e,i);var n=!h&&r.iterateeAry[t];if(n)return function(t,e){return $(t,function(t){return"function"==typeof t?s(t,e):t})}(e,n)}return e}function D(t,e,i){if(f.fixed&&(g||!r.skipFixed[t])){var n=r.methodSpread[t],s=n&&n.start;return void 0===s?b(e,i):function(t,e){return function(){for(var i=arguments.length,r=i-1,n=Array(i);i--;)n[i]=arguments[i];var s=n[e],a=n.slice(0,e);return s&&o.apply(a,s),e!=r&&o.apply(a,n.slice(e+1)),t.apply(this,a)}}(e,s)}return e}function M(t,e,i){return f.rearg&&i>1&&(y||!r.skipRearg[t])?I(e,r.methodRearg[t]||r.aryRearg[i]):e}function B(t,e){for(var i=-1,r=(e=R(e)).length,n=r-1,o=_(Object(t)),s=o;null!=s&&++i<r;){var a=e[i],c=s[a];null==c||j(c)||O(c)||S(c)||(s[a]=_(i==n?c:Object(c))),s=s[a]}return o}function L(e,i){var n=r.aliasToReal[e]||e,o=r.remap[n]||n,s=u;return function(e){var r=h?x:m,a=h?x[o]:i,c=w(w({},s),e);return t(r,n,a,c)}}function $(t,e){return function(){var i=arguments.length;if(!i)return t();for(var r=Array(i);i--;)r[i]=arguments[i];var n=f.rearg?0:i-1;return r[n]=e(r[n]),t.apply(void 0,r)}}function N(t,e,i){var n,o=r.aliasToReal[t]||t,s=e,l=C[o];return l?s=l(e):f.immutable&&(r.mutate.array[o]?s=c(e,a):r.mutate.object[o]?s=c(e,function(t){return function(e){return t({},e)}}(e)):r.mutate.set[o]&&(s=c(e,B))),T(F,function(t){return T(r.aryMethod[t],function(e){if(o==e){var i=r.methodSpread[o],a=i&&i.afterRearg;return n=a?D(o,M(o,s,t),t):M(o,D(o,s,t),t),n=function(t,e,i){return v||f.curry&&i>1?A(e,i):e}(0,n=W(o,n),t),!1}}),!n}),n||(n=s),n==e&&(n=v?A(n,1):function(){return e.apply(this,arguments)}),n.convert=L(o,e),n.placeholder=e.placeholder=i,n}if(!d)return N(i,l,p);var G=l,z=[];return T(F,function(t){T(r.aryMethod[t],function(t){var e=G[r.remap[t]||t];e&&z.push([t,N(t,e,G)])})}),T(E(G),function(t){var e=G[t];if("function"==typeof e){for(var i=z.length;i--;)if(z[i][0]==t)return;e.convert=L(t,e),z.push([t,e])}}),T(z,function(t){G[t[0]]=t[1]}),G.convert=function(t){return G.runInContext.convert(t)(void 0)},G.placeholder=G,T(E(G),function(t){T(r.realToAlias[t]||[],function(e){G[e]=G[t]})}),G}},function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,i=e.aliasToReal,r={};for(var n in i){var o=i[n];t.call(r,o)?r[o].push(n):r[o]=[n]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(t,e,i){t.exports={ary:i(92),assign:i(65),clone:i(129),curry:i(174),forEach:i(26),isArray:i(1),isError:i(175),isFunction:i(22),isWeakMap:i(177),iteratee:i(178),keys:i(70),rearg:i(204),toInteger:i(64),toPath:i(210)}},function(t,e,i){var r=i(20),n=128;t.exports=function(t,e,i){return e=i?void 0:e,e=t&&null==e?t.length:e,r(t,n,void 0,void 0,void 0,void 0,e)}},function(t,e,i){var r=i(22),n=i(97),o=i(3),s=i(51),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,h=l.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||n(t))&&(r(t)?d:a).test(s(t))}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var r=i(6),n=Object.prototype,o=n.hasOwnProperty,s=n.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),i=t[a];try{t[a]=void 0;var r=!0}catch(t){}var n=s.call(t);return r&&(e?t[a]=i:delete t[a]),n}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e,i){var r=i(98),n=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!n&&n in t}},function(t,e,i){var r=i(0)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,i){var r=i(10),n=i(0),o=1;t.exports=function(t,e,i){var s=e&o,a=r(t);return function e(){return(this&&this!==n&&this instanceof e?a:t).apply(s?i:this,arguments)}}},function(t,e,i){var r=i(23),n=i(10),o=i(52),s=i(55),a=i(63),c=i(28),l=i(0);t.exports=function(t,e,i){var u=n(t);return function n(){for(var h=arguments.length,d=Array(h),f=h,p=a(n);f--;)d[f]=arguments[f];var v=h<3&&d[0]!==p&&d[h-1]!==p?[]:c(d,p);return(h-=v.length)<i?s(t,e,o,n.placeholder,void 0,d,v,void 0,void 0,i-h):r(this&&this!==l&&this instanceof n?u:t,this,d)}}},function(t,e){t.exports=function(t,e){for(var i=t.length,r=0;i--;)t[i]===e&&++r;return r}},function(t,e,i){var r=i(24),n=i(56),o=i(105),s=i(107);t.exports=function(t){var e=o(t),i=s[e];if("function"!=typeof i||!(e in r.prototype))return!1;if(t===i)return!0;var a=n(i);return!!a&&t===a[0]}},function(t,e){t.exports=function(){}},function(t,e,i){var r=i(106),n=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",i=r[e],o=n.call(r,e)?i.length:0;o--;){var s=i[o],a=s.func;if(null==a||a==t)return s.name}return e}},function(t,e){t.exports={}},function(t,e,i){var r=i(24),n=i(57),o=i(25),s=i(1),a=i(2),c=i(108),l=Object.prototype.hasOwnProperty;function u(t){if(a(t)&&!s(t)&&!(t instanceof r)){if(t instanceof n)return t;if(l.call(t,"__wrapped__"))return c(t)}return new n(t)}u.prototype=o.prototype,u.prototype.constructor=u,t.exports=u},function(t,e,i){var r=i(24),n=i(57),o=i(12);t.exports=function(t){if(t instanceof r)return t.clone();var e=new n(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e){var i=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var e=t.match(i);return e?e[1].split(r):[]}},function(t,e){var i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(i,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e,i){var r=i(112),n=i(62),o=i(21),s=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=s},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,i){var r=i(26),n=i(114),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return r(o,function(i){var r="_."+i[0];e&i[1]&&!n(t,r)&&t.push(r)}),t.sort()}},function(t,e,i){var r=i(115);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e,i){var r=i(116),n=i(117),o=i(118);t.exports=function(t,e,i){return e==e?o(t,e,i):r(t,n,i)}},function(t,e){t.exports=function(t,e,i,r){for(var n=t.length,o=i+(r?1:-1);r?o--:++o<n;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,i){for(var r=i-1,n=t.length;++r<n;)if(t[r]===e)return r;return-1}},function(t,e,i){var r=i(12),n=i(27),o=Math.min;t.exports=function(t,e){for(var i=t.length,s=o(e.length,i),a=r(t);s--;){var c=e[s];t[s]=n(c,i)?a[c]:void 0}return t}},function(t,e,i){var r=i(23),n=i(10),o=i(0),s=1;t.exports=function(t,e,i,a){var c=e&s,l=n(t);return function e(){for(var n=-1,s=arguments.length,u=-1,h=a.length,d=Array(h+s),f=this&&this!==o&&this instanceof e?l:t;++u<h;)d[u]=a[u];for(;s--;)d[u++]=arguments[++n];return r(f,c?i:this,d)}}},function(t,e,i){var r=i(53),n=i(54),o=i(28),s="__lodash_placeholder__",a=1,c=2,l=4,u=8,h=128,d=256,f=Math.min;t.exports=function(t,e){var i=t[1],p=e[1],v=i|p,g=v<(a|c|h),y=p==h&&i==u||p==h&&i==d&&t[7].length<=e[8]||p==(h|d)&&e[7].length<=e[8]&&i==u;if(!g&&!y)return t;p&a&&(t[2]=e[2],v|=i&a?0:l);var x=e[3];if(x){var m=t[3];t[3]=m?r(m,x,e[4]):x,t[4]=m?o(t[3],s):e[4]}return(x=e[5])&&(m=t[5],t[5]=m?n(m,x,e[6]):x,t[6]=m?o(t[5],s):e[6]),(x=e[7])&&(t[7]=x),p&h&&(t[8]=null==t[8]?e[8]:f(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=v,t}},function(t,e,i){var r=i(123),n=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===n||t===-n?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,i){var r=i(3),n=i(7),o=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(n(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=c.test(t);return i||l.test(t)?u(t.slice(2),i?2:8):a.test(t)?o:+t}},function(t,e){t.exports=function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}},function(t,e,i){var r=i(5),n=i(2),o="[object Arguments]";t.exports=function(t){return n(t)&&r(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e,i){var r=i(5),n=i(33),o=i(2),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&n(t.length)&&!!s[r(t)]}},function(t,e,i){var r=i(71)(Object.keys,Object);t.exports=r},function(t,e,i){var r=i(37),n=4;t.exports=function(t){return r(t,n)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,i){var r=i(16),n=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=r(e,t);return!(i<0||(i==e.length-1?e.pop():n.call(e,i,1),--this.size,0))}},function(t,e,i){var r=i(16);t.exports=function(t){var e=this.__data__,i=r(e,t);return i<0?void 0:e[i][1]}},function(t,e,i){var r=i(16);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,i){var r=i(16);t.exports=function(t,e){var i=this.__data__,n=r(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}},function(t,e,i){var r=i(15);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,i){var r=i(15),n=i(39),o=i(40),s=200;t.exports=function(t,e){var i=this.__data__;if(i instanceof r){var a=i.__data__;if(!n||a.length<s-1)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new o(a)}return i.set(t,e),this.size=i.size,this}},function(t,e,i){var r=i(141),n=i(15),o=i(39);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||n),string:new r}}},function(t,e,i){var r=i(142),n=i(143),o=i(144),s=i(145),a=i(146);function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=n,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,i){var r=i(17);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,i){var r=i(17),n="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var i=e[t];return i===n?void 0:i}return o.call(e,t)?e[t]:void 0}},function(t,e,i){var r=i(17),n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:n.call(e,t)}},function(t,e,i){var r=i(17),n="__lodash_hash_undefined__";t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=r&&void 0===e?n:e,this}},function(t,e,i){var r=i(18);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,i){var r=i(18);t.exports=function(t){return r(this,t).get(t)}},function(t,e,i){var r=i(18);t.exports=function(t){return r(this,t).has(t)}},function(t,e,i){var r=i(18);t.exports=function(t,e){var i=r(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}},function(t,e,i){var r=i(13),n=i(73);t.exports=function(t,e){return t&&r(e,n(e),t)}},function(t,e,i){var r=i(3),n=i(36),o=i(154),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=n(t),i=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&i.push(a);return i}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}},function(t,e,i){(function(t){var r=i(0),n=e&&!e.nodeType&&e,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===n?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,r=a?a(i):new t.constructor(i);return t.copy(r),r}}).call(this,i(32)(t))},function(t,e,i){var r=i(13),n=i(41);t.exports=function(t,e){return r(t,n(t),e)}},function(t,e){t.exports=function(t,e){for(var i=-1,r=null==t?0:t.length,n=0,o=[];++i<r;){var s=t[i];e(s,i,t)&&(o[n++]=s)}return o}},function(t,e,i){var r=i(13),n=i(75);t.exports=function(t,e){return r(t,n(t),e)}},function(t,e,i){var r=i(77),n=i(75),o=i(73);t.exports=function(t){return r(t,o,n)}},function(t,e,i){var r=i(4)(i(0),"DataView");t.exports=r},function(t,e,i){var r=i(4)(i(0),"Promise");t.exports=r},function(t,e,i){var r=i(4)(i(0),"Set");t.exports=r},function(t,e){var i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,i){var r=i(44),n=i(165),o=i(166),s=i(167),a=i(168),c="[object Boolean]",l="[object Date]",u="[object Map]",h="[object Number]",d="[object RegExp]",f="[object Set]",p="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",m="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]";t.exports=function(t,e,i){var j=t.constructor;switch(e){case g:return r(t);case c:case l:return new j(+t);case y:return n(t,i);case x:case m:case b:case w:case _:case A:case T:case P:case O:return a(t,i);case u:return new j;case h:case p:return new j(t);case d:return o(t);case f:return new j;case v:return s(t)}}},function(t,e,i){var r=i(44);t.exports=function(t,e){var i=e?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}},function(t,e){var i=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,i.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,i){var r=i(6),n=r?r.prototype:void 0,o=n?n.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,i){var r=i(44);t.exports=function(t,e){var i=e?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}},function(t,e,i){var r=i(11),n=i(43),o=i(36);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(n(t))}},function(t,e,i){var r=i(171),n=i(34),o=i(35),s=o&&o.isMap,a=s?n(s):r;t.exports=a},function(t,e,i){var r=i(8),n=i(2),o="[object Map]";t.exports=function(t){return n(t)&&r(t)==o}},function(t,e,i){var r=i(173),n=i(34),o=i(35),s=o&&o.isSet,a=s?n(s):r;t.exports=a},function(t,e,i){var r=i(8),n=i(2),o="[object Set]";t.exports=function(t){return n(t)&&r(t)==o}},function(t,e,i){var r=i(20),n=8;function o(t,e,i){var s=r(t,n,void 0,void 0,void 0,void 0,void 0,e=i?void 0:e);return s.placeholder=o.placeholder,s}o.placeholder={},t.exports=o},function(t,e,i){var r=i(5),n=i(2),o=i(176),s="[object DOMException]",a="[object Error]";t.exports=function(t){if(!n(t))return!1;var e=r(t);return e==a||e==s||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},function(t,e,i){var r=i(5),n=i(43),o=i(2),s="[object Object]",a=Function.prototype,c=Object.prototype,l=a.toString,u=c.hasOwnProperty,h=l.call(Object);t.exports=function(t){if(!o(t)||r(t)!=s)return!1;var e=n(t);if(null===e)return!0;var i=u.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==h}},function(t,e,i){var r=i(8),n=i(2),o="[object WeakMap]";t.exports=function(t){return n(t)&&r(t)==o}},function(t,e,i){var r=i(37),n=i(179),o=1;t.exports=function(t){return n("function"==typeof t?t:r(t,o))}},function(t,e,i){var r=i(180),n=i(193),o=i(21),s=i(1),a=i(201);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?n(t[0],t[1]):r(t):a(t)}},function(t,e,i){var r=i(181),n=i(192),o=i(82);t.exports=function(t){var e=n(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(i){return i===t||r(i,t,e)}}},function(t,e,i){var r=i(38),n=i(79),o=1,s=2;t.exports=function(t,e,i,a){var c=i.length,l=c,u=!a;if(null==t)return!l;for(t=Object(t);c--;){var h=i[c];if(u&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++c<l;){var d=(h=i[c])[0],f=t[d],p=h[1];if(u&&h[2]){if(void 0===f&&!(d in t))return!1}else{var v=new r;if(a)var g=a(f,p,d,t,e,v);if(!(void 0===g?n(p,f,o|s,a,v):g))return!1}}return!0}},function(t,e,i){var r=i(38),n=i(80),o=i(188),s=i(191),a=i(8),c=i(1),l=i(31),u=i(69),h=1,d="[object Arguments]",f="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,g,y,x){var m=c(t),b=c(e),w=m?f:a(t),_=b?f:a(e),A=(w=w==d?p:w)==p,T=(_=_==d?p:_)==p,P=w==_;if(P&&l(t)){if(!l(e))return!1;m=!0,A=!1}if(P&&!A)return x||(x=new r),m||u(t)?n(t,e,i,g,y,x):o(t,e,w,i,g,y,x);if(!(i&h)){var O=A&&v.call(t,"__wrapped__"),j=T&&v.call(e,"__wrapped__");if(O||j){var S=O?t.value():t,E=j?e.value():e;return x||(x=new r),y(S,E,i,g,x)}}return!!P&&(x||(x=new r),s(t,e,i,g,y,x))}},function(t,e,i){var r=i(40),n=i(184),o=i(185);function s(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new r;++e<i;)this.add(t[e])}s.prototype.add=s.prototype.push=n,s.prototype.has=o,t.exports=s},function(t,e){var i="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,i),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var i=-1,r=null==t?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,i){var r=i(6),n=i(78),o=i(29),s=i(80),a=i(189),c=i(190),l=1,u=2,h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",v="[object Number]",g="[object RegExp]",y="[object Set]",x="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",_=r?r.prototype:void 0,A=_?_.valueOf:void 0;t.exports=function(t,e,i,r,_,T,P){switch(i){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!T(new n(t),new n(e)));case h:case d:case v:return o(+t,+e);case f:return t.name==e.name&&t.message==e.message;case g:case x:return t==e+"";case p:var O=a;case y:var j=r&l;if(O||(O=c),t.size!=e.size&&!j)return!1;var S=P.get(t);if(S)return S==e;r|=u,P.set(t,e);var E=s(O(t),O(e),r,_,T,P);return P.delete(t),E;case m:if(A)return A.call(t)==A.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach(function(t,r){i[++e]=[r,t]}),i}},function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}},function(t,e,i){var r=i(76),n=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,s,a,c){var l=i&n,u=r(t),h=u.length;if(h!=r(e).length&&!l)return!1;for(var d=h;d--;){var f=u[d];if(!(l?f in e:o.call(e,f)))return!1}var p=c.get(t);if(p&&c.get(e))return p==e;var v=!0;c.set(t,e),c.set(e,t);for(var g=l;++d<h;){var y=t[f=u[d]],x=e[f];if(s)var m=l?s(x,y,f,e,t,c):s(y,x,f,t,e,c);if(!(void 0===m?y===x||a(y,x,i,s,c):m)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(v=!1)}return c.delete(t),c.delete(e),v}},function(t,e,i){var r=i(81),n=i(14);t.exports=function(t){for(var e=n(t),i=e.length;i--;){var o=e[i],s=t[o];e[i]=[o,s,r(s)]}return e}},function(t,e,i){var r=i(79),n=i(194),o=i(198),s=i(45),a=i(81),c=i(82),l=i(9),u=1,h=2;t.exports=function(t,e){return s(t)&&a(e)?c(l(t),e):function(i){var s=n(i,t);return void 0===s&&s===e?o(i,t):r(e,s,u|h)}}},function(t,e,i){var r=i(83);t.exports=function(t,e,i){var n=null==t?void 0:r(t,e);return void 0===n?i:n}},function(t,e,i){var r=i(196),n=500;t.exports=function(t){var e=r(t,function(t){return i.size===n&&i.clear(),t}),i=e.cache;return e}},function(t,e,i){var r=i(40),n="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(n);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var s=t.apply(this,r);return i.cache=o.set(n,s)||o,s};return i.cache=new(o.Cache||r),i}o.Cache=r,t.exports=o},function(t,e,i){var r=i(6),n=i(87),o=i(1),s=i(7),a=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return n(e,t)+"";if(s(e))return l?l.call(e):"";var i=e+"";return"0"==i&&1/e==-a?"-0":i}},function(t,e,i){var r=i(199),n=i(200);t.exports=function(t,e){return null!=t&&n(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,i){var r=i(84),n=i(30),o=i(1),s=i(27),a=i(33),c=i(9);t.exports=function(t,e,i){for(var l=-1,u=(e=r(e,t)).length,h=!1;++l<u;){var d=c(e[l]);if(!(h=null!=t&&i(t,d)))break;t=t[d]}return h||++l!=u?h:!!(u=null==t?0:t.length)&&a(u)&&s(d,u)&&(o(t)||n(t))}},function(t,e,i){var r=i(202),n=i(203),o=i(45),s=i(9);t.exports=function(t){return o(t)?r(s(t)):n(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,i){var r=i(83);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,i){var r=i(20),n=i(205)(function(t,e){return r(t,256,void 0,void 0,void 0,e)});t.exports=n},function(t,e,i){var r=i(206),n=i(209),o=i(61);t.exports=function(t){return o(n(t,void 0,r),t+"")}},function(t,e,i){var r=i(207);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,i){var r=i(42),n=i(208);t.exports=function t(e,i,o,s,a){var c=-1,l=e.length;for(o||(o=n),a||(a=[]);++c<l;){var u=e[c];i>0&&o(u)?i>1?t(u,i-1,o,s,a):r(a,u):s||(a[a.length]=u)}return a}},function(t,e,i){var r=i(6),n=i(30),o=i(1),s=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||n(t)||!!(s&&t&&t[s])}},function(t,e,i){var r=i(23),n=Math.max;t.exports=function(t,e,i){return e=n(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=n(o.length-e,0),c=Array(a);++s<a;)c[s]=o[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=o[s];return l[e]=i(c),r(t,this,l)}}},function(t,e,i){var r=i(87),n=i(12),o=i(1),s=i(7),a=i(85),c=i(9),l=i(86);t.exports=function(t){return o(t)?r(t,c):s(t)?[t]:n(a(l(t)))}},function(t,e,i){var r=i(37),n=1,o=4;t.exports=function(t){return r(t,n|o)}},function(t,e){t.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},function(t,e,i){"use strict";i.r(e);class r{}r.cellsPerAxis=10,r.FPS=120;class n{constructor(){this.mode=0,this.fps=r.FPS,this.container=document.createElement("div"),this.REVISION=16,this.dom=this.container,this.container.style.cssText="cursor:pointer;opacity:0.9;",this.beginTime=Date.now(),this.prevTime=this.beginTime,this.panelTime=this.beginTime,this.frames=0,this.panelFrames=0,this.fpsPanel=this.addPanel(n.Panel("FPS","#0ff","#002")),this.showPanel(0)}showPanel(t,e){if(e)for(var i=0;i<this.container.children.length;i++)this.container.children[i].style.display="inline";else for(i=0;i<this.container.children.length;i++)this.container.children[i].style.display=i===t?"block":"none";this.mode=t}addPanel(t){return this.container.appendChild(t.dom),t}begin(){this.beginTime=Date.now()}end(){this.frames++,this.panelFrames++;var t=Date.now();return t>this.prevTime+50?(this.prevTime=t,this.frames=0):t>=this.prevTime+40&&(this.fps=1e3*this.frames/(t-this.prevTime),this.prevTime=t,this.frames=0),t>=this.panelTime+1e3&&(this.fpsPanel.update(1e3*this.panelFrames/(t-this.panelTime),100),this.panelTime=t,this.panelFrames=0),t}update(){this.beginTime=this.end()}static Panel(t,e,i){var r=1/0,n=0,o=Math.round,s=o(window.devicePixelRatio||1),a=80*s,c=48*s,l=3*s,u=2*s,h=3*s,d=15*s,f=74*s,p=30*s,v=document.createElement("canvas");v.width=a,v.height=c,v.style.cssText="width:80px;height:48px";var g=v.getContext("2d");return g.font="bold "+9*s+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=i,g.fillRect(0,0,a,c),g.fillStyle=e,g.fillText(t,l,u),g.fillRect(h,d,f,p),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:v,update:function(c,y){r=Math.min(r,c),n=Math.max(n,c),g.fillStyle=i,g.globalAlpha=1,g.fillRect(0,0,a,d),g.fillStyle=e,g.fillText(o(c)+" "+t+" ("+o(r)+"-"+o(n)+")",l,u),g.drawImage(v,h+s,d,f-s,p,h,d,f-s,p),g.fillRect(h+f-s,d,s,p),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(h+f-s,d,s,o((1-c/y)*p))}}}}class o{constructor(t){this.set(t)}set(t){this.value=t>=0?t%360:360+t%360}toRadians(){return new s(this.value*Math.PI/180)}display(){return`${Number(this.value.toFixed(1))}`}isClockWise(){return this.value>180&&this.value<360}isCounterClockWise(){return this.value>0&&this.value<=180}isStraight(){return 0==this.value||this.value>359.9||this.value<.1}opposite(){return new o(Math.abs(this.value-360))}}class s{constructor(t){this.value=t}toDegrees(){return new o(this.inDegrees())}inDegrees(){return 180*this.value/Math.PI}}function a(t,e,i){return t>=e-e*i&&t<=e+e*i}class c{constructor(t,e){this.set(t,e)}set(t,e){this.x=Number(t.toFixed(4)),this.y=Number(e.toFixed(4))}toPixelCoordinate(t){return new f(new d(t.center.x.value+this.x*t.cell.width.value),new d(t.center.y.value+this.y*t.cell.height.value*-1))}isFirstQuadrant(){return this.x>0&&this.y>0}isSecondQuadrant(){return this.x<0&&this.y>0}isThirdQuadrant(){return this.x<0&&this.y<0}isFourthQuadrant(){return this.x>0&&this.y<0}toPolar(){let t=new o(0);0==this.x?this.y>0?t.value=90:this.y<0&&(t.value=270):(t.value=new s(Math.atan(this.y/this.x)).inDegrees(),(this.isSecondQuadrant()||this.isThirdQuadrant())&&(t.value+=180),this.isFourthQuadrant()&&(t.value+=360));const e=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2));return new l(e,t)}display(){return`(${Number(this.x.toFixed(1))},${Number(this.y.toFixed(1))})`}reduce(t){this.x-=t.x,this.y-=t.y}translate(t){this.x+=t.x,this.y+=t.y}scale(t){this.x*=t.x,this.y*=t.y}rotate(t){const e=this.x*Math.cos(t.toRadians().value)-this.y*Math.sin(t.toRadians().value),i=this.x*Math.sin(t.toRadians().value)+this.y*Math.cos(t.toRadians().value);this.set(e,i)}distance(t){return Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))}pointInDirection(t,e){return new c(this.x+t*Math.cos(e.toRadians().value),this.y+t*Math.sin(e.toRadians().value))}}class l{constructor(t,e){this.radius=t,this.angle=e}toCartesian(){const t=this.angle.toRadians().value;return new c(this.radius*Math.cos(t),this.radius*Math.sin(t))}display(){return`(${this.radius.toFixed(1)},${this.angle.display()})`}}const u=document.querySelector("#airship-scale");let h=Number(4);u.addEventListener("input",()=>h=Number(4));class d{constructor(t){this.set(t)}set(t){this.value=Number(t.toFixed(4))}inScale(t){return this.value/t.value}half(){return new d(this.value/2)}}class f{constructor(t,e){this.x=t,this.y=e}toNumber(){return{x:this.x.value,y:this.y.value}}}class p{constructor(t){this.type=t}}function v(t,e,i,r){let n=(r.y-i.y)*(e.x-t.x)-(r.x-i.x)*(e.y-t.y),o=(r.x-i.x)*(t.y-i.y)-(r.y-i.y)*(t.x-i.x),s=(e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x);if(0==n)return new p(0==o&&0==s?"colinear":"parallel");let a=o/n,c=s/n;return a>=0&&a<=1&&c>=0&&c<=1?function(t){let e=new p("intersecting");return e.point=t,e}({x:t.x+a*(e.x-t.x),y:t.y+a*(e.y-t.y)}):new p("none")}class g{constructor(t,e=[]){this.airships=[],this.pairs=[],this.table=t,e.forEach(t=>{this.add(t)})}add(t){this.table&&this.table.newRow(t),this.airships.push(t),this.makePairs()}getAirshipById(t){return this.airships.find(e=>e.id==t)}getAll(){return this.airships}setAll(t,e,i){this.getAll().forEach(r=>{r.set(t,e,i)})}getSelected(){return new g(null,this.airships.filter(t=>t.isSelected))}getPairs(){return this.pairs}makePairs(){this.pairs=[];for(let t=0;t<this.airships.length-1;t++)for(let e=t+1;e<this.airships.length;e++)this.pairs.push(new y(this.airships[t],this.airships[e]))}animate(t){this.airships.forEach(t=>{t.accelerate(),t.turn(),t.move()})}}class y{constructor(t,e){this.avoidCollisionMode={on:!1},this.first=t,this.second=e,this.id=`${t.id}${e.id}`}setCollisionMode(t){t?(this.avoidCollisionMode.on=!0,this.first.saveHistory(),this.second.saveHistory()):(this.first.restoreFromHistory(),this.second.restoreFromHistory())}distance(){return this.first.position.distance(this.second.position)}checkIntersection(){return v(this.first.position,this.first.calcFurthestPointAhead(),this.second.position,this.second.calcFurthestPointAhead())}secondOnFirstDirection(){return this.first.directionToPoint(this.second.position).value==this.first.direction.value}firstOnSecondDirection(){return this.second.directionToPoint(this.first.position).value==this.second.direction.value}onTheSameDirection(){return this.first.direction.value==this.second.direction.value}onOppositeDirection(){return this.first.direction.value+this.second.direction.value==360}secondOnReachOfFirst(){return a(this.first.position.distance(this.second.position)+this.first.calcFurthestPointAhead().distance(this.second.position),this.first.position.distance(this.first.calcFurthestPointAhead()),.01)}firstOnReachOfSecond(){return a(this.second.position.distance(this.first.position)+this.second.calcFurthestPointAhead().distance(this.first.position),this.second.position.distance(this.second.calcFurthestPointAhead()),.01)}differentSpeed(){return this.first.speed.value-this.second.speed.value!=0}angleBetween(){return Math.abs(this.first.direction.value-this.second.direction.value)}fastest(){return this.first.speed.value==this.second.speed.value?this.first:this.first.speed.value>this.second.speed.value?this.first:this.second}slowest(){return this.first.speed.value==this.second.speed.value?this.second:this.first.speed.value>this.second.speed.value?this.second:this.first}setDanger(t){this.inDanger=t,this.first.inDanger=t,this.second.inDanger=t}facingEachOther(){return this.onOppositeDirection()&&(this.secondOnReachOfFirst()||this.firstOnReachOfSecond())}firstOnSecondRightTriangle(){return this.second.getRightTrianglePolygon().checkCollision(this.first.calcFurthestPointAhead())}firstOnSecondLeftTriangle(){return this.second.getLeftTrianglePolygon().checkCollision(this.first.calcFurthestPointAhead())}secondOnFirstRightTriangle(){return this.first.getRightTrianglePolygon().checkCollision(this.second.calcFurthestPointAhead())}secondOnFirstLeftTriangle(){return this.first.getLeftTrianglePolygon().checkCollision(this.second.calcFurthestPointAhead())}}class x{display(){return`${Number(this.value.toFixed(1))}`}}class m extends x{constructor(t){super(),this.abbreviation="km/s",this.value=t}toKilometresPerHour(){return new b(3600*this.value)}}class b extends x{constructor(t){super(),this.abbreviation="km/h",this.value=t}toKilometresPerSecond(){return new m(this.value/3600)}}class w extends x{constructor(t){super(),this.abbreviation="m/s",this.value=t}toKilometresPerSecond(){return new m(this.value/1e3)}}"0123456789abcdef".split("");function _(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(26*Math.random())]}function A(t=9){return Math.floor(Math.random()*t)}function T(t=9){return Math.random()*t}function P(){return new B(new c(T(5),T(5)),new o(T(360)),new b(T(1111.26)))}class O{constructor(t){this.black=document.createElement("IMG"),this.red=document.createElement("IMG"),this.shadow=document.createElement("IMG"),"avio"==t?(this.black.src="client/assets/airplane.png",this.red.src="client/assets/airplane-red.png",this.shadow.src="client/assets/airplane-shadow.png"):(this.black.src="client/assets/helicopter.png",this.red.src="client/assets/helicopter-red.png",this.shadow.src="client/assets/helicopter-shadow.png")}}function j(t){return Number(document.getElementById(t).value)}function S(){return j("min-time-to-danger")}function E(){return j("min-distance-airport")}function I(){return j("min-distance-airships")}function k(t){return Object.assign(Object.create(Object.getPrototypeOf(t)),t)}var R=i(19),F=i.n(R);class C{constructor(t=[]){this.points=[],this.points=t}add(t){this.points.push(t)}checkCollision(t){const{x:e,y:i}=t;let r=!1;for(let t=0,n=this.points.length-1;t<this.points.length;n=t++){let o=this.points[t].x,s=this.points[t].y,a=this.points[n].x,c=this.points[n].y;s>i!=c>i&&e<(a-o)*(i-s)/(c-s)+o&&(r=!r)}return r}toPixels(t){const e=[];return this.points.forEach(i=>{e.push(i.toPixelCoordinate(t))}),new W(e)}}class W{constructor(t=[]){this.points=[],this.points=t}}const D={rightPressed:!1,leftPressed:!1,downPressed:!1,upPressed:!1};class M{constructor(t){this.rateOfTurn=new o(5.25),"avio"==t?(this.speed={max:new b(1111.32),min:new b(251)},this.acceleration=new w(14.7)):(this.speed={max:new b(287),min:new b(0)},this.acceleration=new w(11.11))}}class B{constructor(t,e,i){this.blinks=0,this.turnTo=null,this.directionTo=null,this.accelerateTo=null,this.isHover=!1,this.inDanger=!1,this.isSelected=!1,this.history=null,this.rightForever=!1,this.leftForever=!1,this.moveTo=null,this.whenArrive=[],this.id=`${_()}${_()}${_()}${A()}${A()}${A()}`,this.direction=e,this.position=t,this.speed=i.toKilometresPerSecond(),this.type=i.value>250?"avio":"helicptero",this.sprite=new O(this.type),this.limits=new M(this.type),this.width=new d(600/r.cellsPerAxis*85/1e3),this.height=new d(600/r.cellsPerAxis*85/1e3)}shouldBlink(){return this.blinks<r.FPS/3?(this.blinks++,!0):this.blinks>=r.FPS/3&&this.blinks<=r.FPS/3*2?(this.blinks++,!1):this.blinks>=r.FPS/3*2?(this.blinks=0,!0):void 0}restoreSpeed(){this.history&&this.history.speed&&(this.accelerateTo=this.history.speed)}restoreDirection(){this.history&&this.history.position&&(this.moveTo=this.history.position)}restorePosition(){this.history&&this.history.direction&&(this.direction=this.history.direction)}getSprite(){return this.inDanger||this.isHover?this.shouldBlink()?this.sprite.red:this.sprite.black:this.isSelected?this.sprite.red:this.sprite.black}calcNosePosition(t){return new c(this.position.x+this.width.half().inScale(t.cell.width)*Math.cos(this.direction.toRadians().value),this.position.y+this.height.half().inScale(t.cell.height)*Math.sin(this.direction.toRadians().value))}calcPointAheadInTime(t){const e=this.speed.value*t;return this.position.pointInDirection(e,this.direction)}calcFurthestPointAhead(t=1){const e=this.speed.value?this.speed.value*S()*t:t*this.limits.speed.max.toKilometresPerSecond().value/r.FPS;return this.position.pointInDirection(e,this.direction)}move(){const t=this.speed.value/r.FPS,e=this.position.x+t*Math.cos(this.direction.toRadians().value),i=this.position.y+t*Math.sin(this.direction.toRadians().value);this.position.set(e,i)}accelerate(){return this.isSelected&&D.upPressed?this.speed.value+=this.limits.acceleration.toKilometresPerSecond().value/r.FPS:this.isSelected&&D.downPressed?this.speed.value-=this.limits.acceleration.toKilometresPerSecond().value/r.FPS:null!==this.accelerateTo&&void(this.accelerateTo.value>this.speed.value?this.speed.value+this.limits.acceleration.toKilometresPerSecond().value/r.FPS>this.accelerateTo.value?(this.speed=this.accelerateTo,this.accelerateTo=null):this.speed.value+=this.limits.acceleration.toKilometresPerSecond().value/r.FPS:this.accelerateTo.value<this.speed.value&&(this.speed.value-this.limits.acceleration.toKilometresPerSecond().value/r.FPS<this.accelerateTo.value?(this.speed=this.accelerateTo,this.accelerateTo=null):this.speed.value-=this.limits.acceleration.toKilometresPerSecond().value/r.FPS))}setAccelerateTo(t){t.value>=this.limits.speed.max.value?this.accelerateTo=this.limits.speed.max.toKilometresPerSecond():t.value<=this.limits.speed.min.value?this.accelerateTo=this.limits.speed.min.toKilometresPerSecond():this.accelerateTo=t.toKilometresPerSecond()}directionToPoint(t){const e=k(t);return e.reduce(this.position),new s(Math.atan2(e.y,e.x)).toDegrees()}turn(){if(this.isSelected&&D.rightPressed)return this.direction.set(this.direction.value-2*this.limits.rateOfTurn.value/r.FPS);if(this.isSelected&&D.leftPressed)return this.direction.set(this.direction.value+2*this.limits.rateOfTurn.value/r.FPS);if(this.rightForever)return this.direction.set(this.direction.value-this.limits.rateOfTurn.value/r.FPS);if(this.leftForever)return this.direction.set(this.direction.value+this.limits.rateOfTurn.value/r.FPS);if(null===this.turnTo)return;let t=new o(this.directionToPoint(this.turnTo).value-this.direction.value);const e=k(this);t.isCounterClockWise()?(e.direction.set(e.direction.value+this.limits.rateOfTurn.value/r.FPS),t.set(this.directionToPoint(this.turnTo).value-e.direction.value)):t.isClockWise()&&(e.direction.set(e.direction.value-this.limits.rateOfTurn.value/r.FPS),t.set(this.directionToPoint(this.turnTo).value-e.direction.value)),t.isStraight()?(this.direction=this.directionToPoint(this.turnTo),this.turnTo=null):this.direction=e.direction}goTo(t){document.getElementById("should-teleport-to").checked?this.position=t:this.turnTo=t}goToNeverTeleport(t){this.turnTo=t}set(t,e,i){return i.value<this.limits.speed.min.value?window.alert(`Esta velocidade  menor que a mnima (${this.limits.speed.min.display()}) para um ${this.type} se manter no ar.`):i.value>this.limits.speed.max.value?window.alert(`Esta velocidade  maior que a mxima (${this.limits.speed.max.display()}) para um ${this.type} comercial.`):(this.goTo(t),this.accelerateTo=i.toKilometresPerSecond(),void(this.directionTo=e))}timeToPoint(t){return this.position.distance(t)/this.speed.value}saveHistory(){const t=F()(this);this.history={position:t.position,speed:t.speed,direction:t.direction,accelerateTo:t.accelerateTo,turnTo:t.turnTo,exists:!0}}restoreFromHistory(){this.history&&this.history.speed&&(this.history.accelerateTo?this.accelerateTo=this.history.accelerateTo:this.accelerateTo=this.history.speed,this.history.turnTo?this.turnTo=this.history.turnTo:this.turnTo=this.history.position.pointInDirection(100,this.history.direction))}makeTriangleAhead(t){const e=new C([this.position]),i=this.calcFurthestPointAhead();e.add(F()(i));const r=this.calcFurthestPointAhead();return r.reduce(this.position),r.rotate(new o(t)),r.translate(this.position),e.add(F()(r)),e}getLeftTrianglePolygon(){return this.makeTriangleAhead(45)}getRightTrianglePolygon(){return this.makeTriangleAhead(-45)}setRightForever(t){this.rightForever=t}setLeftForever(t){this.leftForever=t}}class L{constructor(){this.rightCol=$("#right-col")}showAirshipCloseToAirportInfo(t){this.rightCol.append(`<div id="${t.id}info" class="alert alert-info" role="alert">\n        <strong>Aproximao ao aeroporto!</strong> O avio ${t.id} est a menos de ${E()}km do aeroporto.\n      </div>`)}hideAirshipCloseToAirportInfo(t){$(`#${t.id}info`).remove()}showAirshipGoingToCollideWithAirport(t){this.rightCol.append(`<div id="${t.id}secondary" class="alert alert-secondary" role="alert">\n        <strong>Em direo ao aeroporto!</strong> O avio ${t.id} est indo em direo ao aeroporto.\n      </div>`)}hideAirshipGoingToCollideWithAirport(t){$(`#${t.id}secondary`).remove()}showAirshipCloseToAirshipWarning(t){this.rightCol.append(`<div id="${t.id}warning" class="alert alert-warning" role="alert">\n        <strong>Aproximao de avies!</strong> O avio ${t.first.id} e o ${t.second.id} esto a menos de ${I()}km um do outro.\n      </div>`)}hideAirshipCloseToAirshipWarning(t){$(`#${t.id}warning`).remove()}showAirshipsGoingToCollide(t){this.rightCol.append(`<div id="${t.id}danger" class="alert alert-danger" role="alert">\n        <strong>Coliso de avies!</strong> O avio ${t.first.id} e o ${t.second.id} esto em perigo de coliso, seus trajetos diferem em menos de ${S()} segundos.\n      </div>`)}hideAirshipsGoingToCollide(t){$(`#${t.id}danger`).remove()}}const N={NOSE_TO_NOSE:"NOSE_TO_NOSE",INTERSECTING_EQ_90_DEGREES:"INTERSECTING_EQ_90_DEGREES",INTERSECTING_LT_90_DEGREES:"INTERSECTING_LT_90_DEGREES",INTERSECTING_GT_90_DEGREES:"INTERSECTING_GT_90_DEGREES",RUN_OVER:"RUN_OVER",RUN_OVER_STALLED:"RUN_OVER_STALLED"};function G(t){t.getPairs().forEach(t=>{!function(t){if(t.firstOnSecondRightTriangle()&&!z.includes(t.id))z.push(t.id),t.first.setRightForever(!(t.angleBetween()>90)),t.first.setLeftForever(t.angleBetween()>90);else if(z.includes(t.id)){if(t.firstOnSecondRightTriangle())return;t.first.setLeftForever(!1),t.first.setRightForever(!1),z.splice(z.indexOf(t.id),1)}else if(t.firstOnSecondLeftTriangle()&&!K.includes(t.id))K.push(t.id),t.first.setRightForever(t.angleBetween()>90),t.first.setLeftForever(!(t.angleBetween()>90));else if(K.includes(t.id)){if(t.firstOnSecondLeftTriangle())return;t.first.setRightForever(!1),t.first.setLeftForever(!1),K.splice(z.indexOf(t.id),1)}else if(t.secondOnFirstRightTriangle()&&!U.includes(t.id))U.push(t.id),t.second.setRightForever(!(t.angleBetween()>90)),t.second.setLeftForever(t.angleBetween()>90);else if(U.includes(t.id)){if(t.secondOnFirstRightTriangle())return;t.second.setLeftForever(!1),t.second.setRightForever(!1),U.splice(z.indexOf(t.id),1)}else if(t.secondOnFirstLeftTriangle()&&!q.includes(t.id))q.push(t.id),t.second.setRightForever(t.angleBetween()>90),t.second.setLeftForever(!(t.angleBetween()>90));else if(q.includes(t.id)){if(t.secondOnFirstLeftTriangle())return;t.second.setRightForever(!1),t.second.setLeftForever(!1),q.splice(z.indexOf(t.id),1)}}(t)})}let z=[],K=[],U=[],q=[];var H=function(t,e,i,r){return new(i||(i=Promise))(function(n,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(s,a)}c((r=r.apply(t,e||[])).next())})};const V=new n;V.showPanel(0,!0),document.getElementById("app-status").appendChild(V.dom);const Q=new class{constructor(){this.canvas=document.getElementById("myCanvas"),this.ctx=this.canvas.getContext("2d")}clean(){this.ctx.beginPath(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawGrid(t){this.ctx.beginPath(),this.ctx.strokeStyle="black",this.ctx.lineWidth=1;for(let e=0;e<=this.canvas.width;e+=t.cell.width.value)this.ctx.moveTo(e,0),this.ctx.lineTo(e,this.canvas.height);for(let e=0;e<=this.canvas.height;e+=t.cell.height.value)this.ctx.moveTo(0,e),this.ctx.lineTo(this.canvas.width,e);this.ctx.stroke()}drawGridScale(t){this.ctx.beginPath(),this.ctx.setLineDash([3,9]),this.ctx.fillStyle="rgba(255,0,0,0.7)",this.ctx.strokeStyle="rgba(255,0,0,0.7)",this.ctx.lineWidth=2;const e=new c(4,-4.5).toPixelCoordinate(t).toNumber();this.ctx.moveTo(e.x,e.y),this.ctx.lineTo(e.x+t.cell.width.value,e.y),this.ctx.fillText("1 km",e.x+3.5*t.cell.width.value/10,e.y+2*t.cell.height.value/10);const i=new c(3.5,-4).toPixelCoordinate(t).toNumber();this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(i.x,i.y+t.cell.height.value),this.ctx.fillText("1 km",i.x+.5*t.cell.width.value/10,i.y+5.5*t.cell.height.value/10),this.ctx.stroke(),this.ctx.setLineDash([])}drawRings(t){this.ctx.beginPath(),this.ctx.strokeStyle="black",this.ctx.lineWidth=t.lineWidth;for(let e=0;e<t.amount;e++)this.ctx.arc(t.center.x.value,t.center.y.value,(t.radius-t.lineWidth/2)/t.amount*(e+1),0,2*Math.PI,!1);this.ctx.stroke()}castAirshipShadow(t,e){const i=t.position.toPixelCoordinate(e).toNumber(),r=-1*t.direction.toRadians().value;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(i.x,i.y),this.ctx.translate(0,0),this.ctx.rotate(r),this.ctx.drawImage(t.sprite.shadow,-t.width.value*h/2,-t.height.value*h/2,t.width.value*h,t.height.value*h),this.ctx.restore()}drawAirshipGuideLine(t,e){if(0==t.speed.value)return;const i=t.calcNosePosition(e).toPixelCoordinate(e),r=t.calcFurthestPointAhead().toPixelCoordinate(e);this.ctx.beginPath(),this.ctx.setLineDash([3,9]),this.ctx.strokeStyle="red",this.ctx.lineWidth=1,this.ctx.moveTo(i.x.value,i.y.value),this.ctx.lineTo(r.x.value,r.y.value),this.ctx.stroke(),this.ctx.setLineDash([])}drawAirship(t,e){const i=t.position.toPixelCoordinate(e).toNumber(),r=-1*t.direction.toRadians().value;this.ctx.save(),this.ctx.beginPath(),this.ctx.font="12px Georgia",this.ctx.fillStyle="black",this.ctx.fillText(t.id,i.x+t.width.value*h/2,i.y-t.height.value*h/2),this.ctx.translate(i.x,i.y-t.height.value*h*1.5),this.ctx.translate(0,0),this.ctx.rotate(r),this.ctx.drawImage(t.getSprite(),-t.width.value*h/2,-t.height.value*h/2,t.width.value*h,t.height.value*h),this.ctx.restore()}drawAirships(t,e){document.getElementById("draw-airships-vision").checked&&t.getAll().forEach(t=>{this.drawTriangles(t,e)}),t.getAll().forEach(t=>{this.castAirshipShadow(t,e)}),document.getElementById("draw-airships-guidelines").checked&&t.getAll().forEach(t=>{this.drawAirshipGuideLine(t,e)}),t.getAll().forEach(t=>{this.drawAirship(t,e)})}drawTriangles(t,e){const i=t.getLeftTrianglePolygon(),r=t.getRightTrianglePolygon();this.drawPolygon(i.toPixels(e),"rgba(255,0,0,0.5)"),this.drawPolygon(r.toPixels(e),"rgba(0,0,255,0.5)")}drawPolygon(t,e){this.ctx.fillStyle=e,this.ctx.beginPath(),this.ctx.moveTo(t.points[0].x.value,t.points[0].y.value);for(let e=1;e<t.points.length;e++)this.ctx.lineTo(t.points[e].x.value,t.points[e].y.value);this.ctx.closePath(),this.ctx.fill()}},J=new class{constructor(t){this.cell={width:new d(t.width/r.cellsPerAxis),height:new d(t.height/r.cellsPerAxis)},this.center=new f(new d(t.width/2),new d(t.height/2)),this.limit={top:r.cellsPerAxis/2,right:r.cellsPerAxis/2,bottom:r.cellsPerAxis/2*-1,left:r.cellsPerAxis/2*-1}}}(Q.canvas),X=new class{constructor(t,e){this.lineWidth=1,this.amount=e,this.diameter=t.cell.width.value*this.amount*2,this.radius=this.diameter/2,this.center=t.center}}(J,6),Y=new class{constructor(){this.drawn=!1,this.tableBody=$("#table-body"),this.selected=[]}newRow(t){this.tableBody.append(`\n      <tr id="${t.id}">\n        <th scope="row">${t.id}</th>\n        <td id="${t.id}position">${t.position.display()}</td>\n        <td id="${t.id}polar">${t.position.toPolar().display()}</td>\n        <td id="${t.id}direction">${t.direction.display()}</td>\n        <td id="${t.id}speed">${t.speed.toKilometresPerHour().display()}</td>\n      </tr>`);const e=$(`#${t.id}`);e.click(()=>{t.isSelected=!t.isSelected,t.isSelected?(e.toggleClass("airship-row-selected"),this.selected.push(t.id)):(e.toggleClass("airship-row-selected"),this.selected.splice(this.selected.indexOf(t.id),1)),this.buttonsControl()}),e.mouseover(()=>{t.isHover=!0}),e.mouseleave(()=>{t.isHover=!1})}buttonsControl(){this.selected.length>0?$(".auto-disabled").prop("disabled",!1):$(".auto-disabled").prop("disabled",!0)}updateRow(t){t.getAll().forEach(t=>{$(`#${t.id}position`)[0].innerHTML=t.position.display(),$(`#${t.id}polar`)[0].innerHTML=t.position.toPolar().display(),$(`#${t.id}direction`)[0].innerHTML=t.direction.display(),$(`#${t.id}speed`)[0].innerHTML=t.speed.toKilometresPerHour().display()})}},Z=new g(Y),tt=new class{constructor(){this.airport=new c(0,0),this.inWarning=[],this.inDanger=[],this.inAirportDistance=[],this.inAirportDirection=[],this.feedback=new L}trackThem(t){this.isCloseToAirport(t),this.isCloseToEachOther(t),this.isGoingToCollide(t),this.isGoingToCollideWithAirport(t)}isCloseToAirport(t){t.getAll().forEach(t=>{t.position.distance(this.airport)<E()&&!this.inAirportDistance.includes(t.id)?(this.inAirportDistance.push(t.id),this.feedback.showAirshipCloseToAirportInfo(t)):t.position.distance(this.airport)>E()&&this.inAirportDistance.includes(t.id)&&(this.inAirportDistance.splice(this.inAirportDistance.indexOf(t.id),1),this.feedback.hideAirshipCloseToAirportInfo(t))})}isGoingToCollideWithAirport(t){t.getAll().forEach(t=>{const e=a(t.position.distance(this.airport)+t.calcFurthestPointAhead().distance(this.airport),t.position.distance(t.calcFurthestPointAhead()),.01);e&&!this.inAirportDirection.includes(t.id)?(this.inAirportDirection.push(t.id),this.feedback.showAirshipGoingToCollideWithAirport(t)):!e&&this.inAirportDirection.includes(t.id)&&(this.inAirportDirection.splice(this.inAirportDirection.indexOf(t.id),1),this.feedback.hideAirshipGoingToCollideWithAirport(t))})}isCloseToEachOther(t){t.getPairs().forEach(t=>{t.distance()<I()&&!this.inWarning.includes(t.id)?(this.inWarning.push(t.id),this.feedback.showAirshipCloseToAirshipWarning(t)):t.distance()>I()&&this.inWarning.includes(t.id)&&(this.inWarning.splice(this.inWarning.indexOf(t.id),1),this.feedback.hideAirshipCloseToAirshipWarning(t))})}isGoingToCollide(t){t.getPairs().forEach(t=>{this.collisionInminent(t)&&!this.inDanger.includes(t.id)?(this.inDanger.push(t.id),t.setDanger(!0),this.feedback.showAirshipsGoingToCollide(t)):!this.collisionInminent(t)&&this.inDanger.includes(t.id)&&(t.setCollisionMode(!1),this.inDanger.splice(this.inDanger.indexOf(t.id),1),t.setDanger(!1),this.feedback.hideAirshipsGoingToCollide(t))})}collisionInminent(t){t.timeToCollide=S()+1;const e=t.checkIntersection();if("intersecting"==e.type){const i=t.first.timeToPoint(e.point),r=t.second.timeToPoint(e.point);t.timeToCollide=i>r?i:r,a(t.angleBetween(),90,.01)?t.collisionType=N.INTERSECTING_EQ_90_DEGREES:t.angleBetween()>90?t.collisionType=N.INTERSECTING_GT_90_DEGREES:t.angleBetween()<90&&(t.collisionType=N.INTERSECTING_LT_90_DEGREES)}else t.facingEachOther()?(t.timeToCollide=t.distance()/(t.first.speed.value+t.second.speed.value),t.collisionPoint=t.first.calcPointAheadInTime(t.timeToCollide),t.collisionType=N.NOSE_TO_NOSE):t.onTheSameDirection()&&t.differentSpeed()?(t.secondOnReachOfFirst()&&(t.timeToCollide=t.distance()/(t.first.speed.value-t.second.speed.value),t.collisionPoint=t.first.calcPointAheadInTime(t.timeToCollide)),t.firstOnReachOfSecond()&&(t.timeToCollide=t.distance()/(t.second.speed.value-t.first.speed.value),t.collisionPoint=t.second.calcPointAheadInTime(t.timeToCollide)),t.collisionType=N.RUN_OVER):t.firstOnSecondDirection()&&0==t.first.speed.value?(t.timeToCollide=t.distance()/t.second.speed.value,t.collisionPoint=t.second.calcPointAheadInTime(t.timeToCollide),t.collisionType=N.RUN_OVER_STALLED):t.secondOnFirstDirection()&&0==t.second.speed.value&&(t.timeToCollide=t.distance()/t.first.speed.value,t.collisionPoint=t.first.calcPointAheadInTime(t.timeToCollide),t.collisionType=N.RUN_OVER_STALLED);return t.timeToCollide<=S()}};function et(){return H(this,void 0,void 0,function*(){V.begin(),Q.clean(),Q.drawGridScale(J),document.getElementById("draw-grid").checked&&Q.drawGrid(J),document.getElementById("draw-polar").checked&&Q.drawRings(X),document.getElementById("draw-airships").checked&&Q.drawAirships(Z,J),document.getElementById("animate-airships").checked&&Z.animate(Y),document.getElementById("may-track").checked&&tt.trackThem(Z),document.getElementById("bounce").checked&&function(t,e){t.getAll().forEach(t=>{t.position.x+t.width.inScale(e.cell.width)/2>e.limit.right?t.direction.set(181*Math.random()+90):t.position.x-t.width.inScale(e.cell.width)<e.limit.left?t.direction.set((181*Math.random()+90+180)%360):t.position.y-t.height.inScale(e.cell.height)/2<e.limit.bottom?t.direction.set(180*Math.random()):t.position.y+t.height.inScale(e.cell.height)/2>e.limit.top&&t.direction.set(181*Math.random()+180)})}(Z,J),document.getElementById("should-avoid-collision").checked&&G(Z),Y.updateRow(Z),V.end(),r.FPS=V.fps})}setTimeout(()=>{!function(t){document.getElementById("inserir-cart").addEventListener("submit",e=>{e.preventDefault();const i=j("inserir-x"),r=j("inserir-y"),n=j("inserir-direcao"),s=j("inserir-velocidade"),a=new B(new c(i,r),new o(n),new b(s));t.add(a)}),document.getElementById("inserir-polar").addEventListener("submit",e=>{e.preventDefault();const i=j("inserir-raio"),r=j("inserir-angulo"),n=j("inserir-polar-direcao"),s=j("inserir-polar-velocidade"),a=new B(new l(i,new o(r)).toCartesian(),new o(n),new b(s));t.add(a)}),document.getElementById("modificar-cart").addEventListener("submit",e=>{e.preventDefault();const i=j("modificar-x"),r=j("modificar-y"),n=j("modificar-direcao"),s=j("modificar-velocidade");t.getSelected().setAll(new c(i,r),new o(n),new b(s))}),document.getElementById("modificar-polar").addEventListener("submit",e=>{e.preventDefault();const i=j("modificar-raio"),r=j("modificar-angulo"),n=j("modificar-polar-direcao"),s=j("modificar-polar-velocidade");t.getSelected().setAll(new l(i,new o(r)).toCartesian(),new o(n),new b(s))}),document.getElementById("add-random-airship").addEventListener("click",e=>{e.preventDefault(),t.add(P())})}(Z),function(t){document.getElementById("transladar").addEventListener("submit",e=>{e.preventDefault(),t.getSelected().getAll().forEach(t=>{const e=new c(j("transladar-x"),j("transladar-y"));e.translate(t.position),t.goTo(e)})}),document.getElementById("escalonar").addEventListener("submit",e=>{e.preventDefault(),t.getSelected().getAll().forEach(t=>{const e=new c(j("escalonar-x"),j("escalonar-y"));e.scale(t.position),t.goTo(e)})}),document.getElementById("rotacionar").addEventListener("submit",e=>{e.preventDefault(),t.getSelected().getAll().forEach(t=>{const e=new c(j("rotacionar-x"),j("rotacionar-y")),i=new o(j("rotacionar-angulo")),r=k(t.position);r.reduce(e),r.rotate(i),r.translate(e),t.goTo(r)})})}(Z),setInterval(requestAnimationFrame,1e3/r.FPS,et),new class{constructor(){document.addEventListener("keydown",this.keyDownHandler,!1),document.addEventListener("keyup",this.keyUpHandler,!1)}keyDownHandler(t){[39,37,38,40].includes(t.keyCode)&&t.preventDefault(),39==t.keyCode?D.rightPressed=!0:37==t.keyCode?D.leftPressed=!0:38==t.keyCode?D.upPressed=!0:40==t.keyCode&&(D.downPressed=!0)}keyUpHandler(t){[39,37,38,40].includes(t.keyCode)&&t.preventDefault(),39==t.keyCode?D.rightPressed=!1:37==t.keyCode&&(D.leftPressed=!1),38==t.keyCode?D.upPressed=!1:40==t.keyCode&&(D.downPressed=!1)}}},0)}]);